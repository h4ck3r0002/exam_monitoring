{% extends 'base.html' %}
{% load static %}
{% block title %} Kết quả {% endblock title %}

{% block content %}
<div class="container">
    <h2 style="color: #222;font-size: 28px;margin-top: 24px;margin-bottom: 24px;">Exam Result</h2>
    <p>Exam: {{ result.exam.title }}</p>
    <p>User: {{request.user.username}}</p>
    <p>Score: {{ result.score }} </p>
    <ul>
        {% for detail in result.resultdetail_set.all %}
            <li>
                <strong>Question:</strong> {{ detail.question.question_text }}
                <ul>
                    {% for answer in detail.question.answer_set.all %}
                        <li style="
                            background-color: 
                            {% if answer == detail.answer and detail.is_correct %}yellow
                            {% elif answer == detail.answer and not detail.is_correct %}red
                            {% else %}
                            {% endif %};
                            color: #222;
                            padding: 5px;
                            margin: 5px 0;
                        ">
                            {{ answer.answer_text }}
                            {% if answer == detail.answer %}
                                - Your Choice
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
                <p><strong>Correct Answer:</strong> 
                    {% for answer in detail.question.answer_set.all %}
                        {% if answer.is_correct %}{{ answer.answer_text }}{% endif %}
                    {% endfor %}
                </p>
            </li>
        {% endfor %}
    </ul>
    <a class="btn btn-primary mb-3" href="{% url 'index' %}">Back to Exams</a>

</div>
{% endblock content %}
